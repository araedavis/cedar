/**
* @esri/cedar - v1.1.1 - Thu Jan 19 2023 15:31:45 GMT-0800 (Pacific Standard Time)
* Copyright (c) 2023 Environmental Systems Research Institute, Inc.
* Apache-2.0
*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(e.cedar={})}(this,function(e){"use strict";var s=function(e){return!(!(i=e)||"object"!=typeof i||(t=e,"[object RegExp]"===(r=Object.prototype.toString.call(t))||"[object Date]"===r||t.$$typeof===a));var t,r,i};var a="function"==typeof Symbol&&Symbol.for?Symbol.for("react.element"):60103;function u(e,t){var r;return t&&!0===t.clone&&s(e)?c((r=e,Array.isArray(r)?[]:{}),e,t):e}function d(r,e,i){var a=r.slice();return e.forEach(function(e,t){void 0===a[t]?a[t]=u(e,i):s(e)?a[t]=c(r[t],e,i):-1===r.indexOf(e)&&a.push(u(e,i))}),a}function c(e,t,r){var i,a,n,o,l=Array.isArray(t);return l===Array.isArray(e)?l?((r||{arrayMerge:d}).arrayMerge||d)(e,t,r):(a=t,n=r,o={},s(i=e)&&Object.keys(i).forEach(function(e){o[e]=u(i[e],n)}),Object.keys(a).forEach(function(e){s(a[e])&&i[e]?o[e]=c(i[e],a[e],n):o[e]=u(a[e],n)}),o):u(t,r)}c.all=function(e,r){if(!Array.isArray(e)||e.length<2)throw new Error("first argument should be an array with at least two elements");return e.reduce(function(e,t){return c(e,t,r)})};var p=c,r={bar:{type:"serial",rotate:!1,theme:"calcite",chartCursor:{categoryBalloonEnabled:!1},graphs:[{type:"column",newStack:!0}],legend:{valueAlign:"left",spacing:25},valueAxes:[{stackType:"regular"}],export:{enabled:!0}},"bar-horizontal":{type:"serial",theme:"calcite",rotate:!0,chartCursor:{leaveCursor:!0,valueLineEnabled:!0,categoryBalloonEnabled:!1},graphs:[{type:"column"}],legend:{},valueAxes:[{gridAlpha:.2,stackType:"regular"}],export:{enabled:!0}},line:{type:"serial",theme:"calcite",chartCursor:{categoryBalloonEnabled:!1,valueLineBalloonEnabled:!0},graphs:[{bullet:"circle",bulletAlpha:1,bulletBorderAlpha:.8,bulletBorderThickness:0,dashLengthField:"dashLengthLine",fillAlphas:0,useLineColorForBulletBorder:!0}],legend:{position:"bottom",useGraphSettings:!0},export:{enabled:!0}},area:{type:"serial",theme:"calcite",chartCursor:{categoryBalloonEnabled:!1,valueLineBalloonEnabled:!0},graphs:[{bullet:"circle",bulletAlpha:1,bulletBorderAlpha:.8,bulletBorderThickness:0,dashLengthField:"dashLengthLine",fillAlphas:.5,useLineColorForBulletBorder:!0}],legend:{horizontalGap:10,position:"bottom",useGraphSettings:!0,markerSize:10},valueAxes:[{stackType:"regular"}],export:{enabled:!0}},pie:{type:"pie",theme:"calcite",innerRadius:"0%",startDuration:0,graphs:[{}],groupPercent:5,balloon:{fixedPosition:!0},legend:{enabled:!1},export:{enabled:!0}},radar:{type:"radar",valueAxes:[{gridType:"circles",minimum:0}],polarScatter:{minimum:0,maximum:400,step:1},startDuration:0,graphs:[{graphFillAlpha:0}],groupPercent:5,balloon:{fixedPosition:!0},legend:{position:"right",marginRight:100,autoMargins:!1}},scatter:{type:"xy",theme:"calcite",valueAxes:[{axisAlpha:.8,gridAlpha:.2,position:"bottom"},{axisAlpha:.8,gridAlpha:.2,position:"left"}],chartScrollbar:{scrollbarHeight:5,offset:-1,backgroundAlpha:.1,backgroundColor:"#888888",selectedBackgroundColor:"#67b7dc",selectedBackgroundAlpha:1,dragIconWidth:15,dragIconHeight:15},chartCursor:{categoryBalloonEnabled:!0,cursorAlpha:.3,valueLineAlpha:.3,valueLineBalloonEnabled:!0},graphs:[{fillAlphas:0,lineAlpha:0,bullet:"circle",bulletBorderAlpha:.2,bulletAlpha:.8,valueField:null,xField:null,yField:null}],export:{enabled:!0}},timeline:{type:"serial",theme:"calcite",chartCursor:{categoryBalloonEnabled:!1,valueLineBalloonEnabled:!0},graphs:[{bullet:"circle",bulletAlpha:1,bulletBorderAlpha:.8,bulletBorderThickness:0,dashLengthField:"dashLengthLine",fillAlphas:0,useLineColorForBulletBorder:!0}],legend:{position:"bottom",useGraphSettings:!0},categoryAxis:{parseDates:!0},export:{enabled:!0}}};function h(n,o){var l=n.graphs.pop(),s=1<o.datasets.length;if(n.categoryField=s?"categoryField":o.series[0].category.field,n.tabIndex=0,n.legend||(n.legend={}),o.legend&&o.legend.hasOwnProperty("enable")&&(o.legend.visible=o.legend.enable),1===o.series.length&&"pie"!==o.type&&"radar"!==o.type){n.legend.enabled=!1;var t=o.series[0].category.label,r=o.series[0].value.label;"xy"===n.type&&Array.isArray(n.valueAxes)?n.valueAxes.forEach(function(e){"bottom"===e.position?e.title=t:"left"===e.position&&(e.title=r)}):(n.valueAxes||(n.valueAxes=[{}]),n.valueAxes[0].title=o.series[0].value.label,n.valueAxes[0].position="left",n.categoryAxis||(n.categoryAxis={}),n.categoryAxis.title=t)}if(o.legend){var e=o.legend;e.hasOwnProperty("visible")&&(n.legend.enabled=e.visible,n.legend.tabIndex=0),e.position&&-1<["top","bottom","left","right"].indexOf(e.position)&&(n.legend.position=e.position)}if(o.style){var i=o.style;if(i.padding){var a=i.padding;n.autoMargins=!1,a.hasOwnProperty("top")&&(n.marginTop=a.top),a.hasOwnProperty("bottom")&&(n.marginBottom=a.bottom),a.hasOwnProperty("left")&&(n.marginLeft=a.left),a.hasOwnProperty("right")&&(n.marginRight=a.right)}if(i.pie){var u=i.pie;u.hasOwnProperty("innerRadius")&&(n.innerRadius=u.innerRadius),u.hasOwnProperty("expand")&&(n.pullOutRadius=u.expand)}i.colors&&Array.isArray(i.colors)&&(n.colors=i.colors)}return o.datasets.forEach(function(i,e){var a=i.name;o.series.forEach(function(e,t){if(i.name===e.source){var r=y(l);r.title=e.value.label,r.valueField=s?a+"_"+e.value.field:e.value.field,r.balloonText="<div>"+e.category.label+": [["+n.categoryField+"]]</div><div>"+r.title+": [["+r.valueField+"]]</div>",e.stack&&r.newStack&&(r.newStack=!1),"pie"===o.type&&(n.titleField=n.categoryField,n.valueField=r.valueField),"xy"===n.type&&e.category&&e.value&&(r.xField=e.category.field,r.yField=e.value.field,r.balloonText="<div>"+e.category.label+": [["+e.category.field+"]]</div><div>"+e.value.label+": [["+e.value.field+"]]</div>","xy"===n.type&&e.size?(r.valueField=e.size.field,r.balloonText=r.balloonText+"<div>"+e.size.label+": [["+r.valueField+"]]</div>"):delete r.valueField),n.graphs.push(r)}})}),n}function f(e){var t=e;return"time"===t?(console.warn("'time' is no longer a supported type. Please use 'timeline' instead"),t="timeline"):"bubble"===t?(console.warn("'bubble' is no longer a supported type. Please use 'scatter' instead"),t="scatter"):"grouped"===t&&(console.warn("'grouped' is no longer a supported type. Please use 'bar' instead"),t="bar"),y(r[t])}function y(e){return JSON.parse(JSON.stringify(e))}var i={renderChart:function(e,t,r){if("custom"===t.type)return AmCharts.makeChart(e,t.specification);var i=t.specification&&"string"!=typeof t.specification?y(t.specification):f(t.type),a=y(r);i.dataProvider=a,t.datasets&&(i=h(i,t)),t.overrides&&(i=p(i,t.overrides,{clone:!0}));var n,o,l,s=AmCharts.makeChart(e,i);return"pie"===t.type&&(s.balloonText=(o=(n=t).series[0].category.label?n.series[0].category.label+": ":"",l=n.series[0].value.label?n.series[0].value.label+": ":"","<div>"+o+"[[title]]</div><div>"+l+"[[percents]]% ([[value]])</div>")),s},fillInSpec:h,fetchSpec:f};function g(e){return e.features?e.features:e}function b(e){return e.attributes?e.attributes:e}function v(e,t,r){var i=e.name||r;return e.data||t[i]}function n(e,t){if(e){if(e.length<1)return[];var s,u,r,i=t&&t.datasetsData;if(1<e.length){var a=t&&t.series;return s=a,u=i,r=e.reduce(function(r,e,t){var i,n=e.join,a=v(e,u),o=e.name,l=(i=o,s.reduce(function(e,t){return t.source===i&&t.value&&e.push(t.value.field),e},[]));return g(a).forEach(function(e){var a=b(e),t=a[n];void 0===r[t]&&(r[t]={categoryField:t}),l.reduce(function(e,t){var r,i;return e[(r=o,i=t,r+"_"+i)]=a[t],e},r[t])}),r},{}),Object.keys(r).map(function(e){return r[e]})}var n,o=v(e[0],i,"dataset0");return 0<(n=g(o)).length&&n[0].attributes?n.map(b):n}}var t=function(){function e(e,t){if(!e)throw new Error("A container is required");this._container=e,t&&this.definition(t)}return e.prototype.definition=function(e){return void 0===e?this._definition:(this._definition=e,this)},e.prototype.datasets=function(e){return this._definitionAccessor("datasets",e)},e.prototype.series=function(e){return this._definitionAccessor("series",e)},e.prototype.type=function(e){return this._definitionAccessor("type",e)},e.prototype.specification=function(e){return this._definitionAccessor("specification",e)},e.prototype.overrides=function(e){return this._definitionAccessor("overrides",e)},e.prototype.legend=function(e){return this._definitionAccessor("legend",e)},e.prototype.style=function(e){return this._definitionAccessor("style",e)},e.prototype.data=function(){return this._data},e.prototype.dataset=function(t){var r,e=this.datasets();return e&&e.some(function(e){if(e.name===t)return r=e,!0}),r},e.prototype.query=function(){return null},e.prototype.updateData=function(e){var t=this.datasets(),r={datasetsData:e,series:this.series()};return this._data=n(t,r),this},e.prototype.render=function(){return function(e,t,r){if((!e||!t||!r)&&t.type&&"custom"!==t.type)throw new Error("Element Id, definition, and data are all required.");t.type&&"custom"===t.type?i.renderChart(e,t):i.renderChart(e,t,r)}(this._container,this.definition(),this.data()),this},e.prototype.show=function(){var t=this;return this.query().then(function(e){return t.updateData(e).render()})},e.prototype._definitionAccessor=function(e,t){var r=this._definition;if(void 0===t)return r?r[e]:void 0;if(r)return r[e]=t,this;var i={};return i[e]=t,this.definition(i)},e}();
/* Copyright (c) 2018 Environmental Systems Research Institute, Inc.
     * Apache-2.0 */e.Chart=t,Object.defineProperty(e,"__esModule",{value:!0})});
//# sourceMappingURL=cedar.min.js.map
